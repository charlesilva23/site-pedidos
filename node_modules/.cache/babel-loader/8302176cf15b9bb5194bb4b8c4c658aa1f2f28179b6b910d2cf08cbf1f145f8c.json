{"ast":null,"code":"import _slicedToArray from\"C:/Users/Charles/Desktop/CURSO WEB/Meus projetos/Nova pasta/projeto1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from\"react-router-dom\";import Navbar from\"../../components/navbar/navbar.jsx\";import'../pedidos/pedidos.css';import Pedido from\"../../components/pedido/pedido.jsx\";import{useEffect,useState}from\"react\";import axios from\"axios\";import api from\"../../services/api.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Pedidos(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pedidos=_useState2[0],setPedidos=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];function ConsultarPedidos(){// Fazendo GET no servidor\napi.get(\"/pedidos?status=\"+status).then(function(retorno){setPedidos(retorno.data);}).catch(function(err){setPedidos([]);if(err.response){console.log(err.response.data);}alert(\"Erro ao consultar os pedidos\");});}useEffect(function(){ConsultarPedidos();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-page form-pedido\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ms-4 d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"d-inline\",children:\"Pedidos\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-success me-5 mb-2\",to:\"/pedidos/novo\",children:\"Adicionar Pedido\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-control d-inline me-3\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"status\",id:\"status\",onChange:function onChange(e){return setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A\",children:\"Aberto\"}),/*#__PURE__*/_jsx(\"option\",{value:\"F\",children:\"Finalizado\"})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:ConsultarPedidos,children:\"Filtrar\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 ms-4 me-4\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Pedido\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Dt. Venda\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Valor Total\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pedidos.map(function(pedido){return/*#__PURE__*/_jsx(Pedido,{id_pedido:pedido.id_pedido,cliente:pedido.cliente,dt_pedido:pedido.dt_pedido,status:pedido.status,status_descricao:pedido.status_descricao,vl_total:pedido.vl_total,atualizar_lista:ConsultarPedidos},pedido.id_pedido);})})]})})]})]});}export default Pedidos;","map":{"version":3,"names":["Link","Navbar","Pedido","useEffect","useState","axios","api","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Pedidos","_useState","_useState2","_slicedToArray","pedidos","setPedidos","_useState3","_useState4","status","setStatus","ConsultarPedidos","get","then","retorno","data","catch","err","response","console","log","alert","children","className","to","name","id","onChange","e","target","value","onClick","scope","map","pedido","id_pedido","cliente","dt_pedido","status_descricao","vl_total","atualizar_lista"],"sources":["C:/Users/Charles/Desktop/CURSO WEB/Meus projetos/Nova pasta/projeto1/src/pages/pedidos/pedidos.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport Navbar from \"../../components/navbar/navbar.jsx\";\r\nimport '../pedidos/pedidos.css'\r\nimport Pedido from \"../../components/pedido/pedido.jsx\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport api from \"../../services/api.js\";\r\n\r\n\r\nfunction Pedidos() {\r\n\r\n    const [pedidos, setPedidos] = useState([]);\r\n    const [status, setStatus] = useState(\"\");\r\n\r\n    function ConsultarPedidos() {\r\n\r\n        // Fazendo GET no servidor\r\n        api.get(\"/pedidos?status=\" + status)\r\n        .then((retorno) => {\r\n            setPedidos(retorno.data);\r\n        })\r\n        .catch((err) => {\r\n            setPedidos([]);\r\n\r\n            if(err.response) {\r\n                console.log(err.response.data);\r\n            }\r\n\r\n            alert(\"Erro ao consultar os pedidos\");\r\n        });\r\n       \r\n    }\r\n\r\n    useEffect(() => {\r\n        ConsultarPedidos();\r\n    }, []);\r\n\r\n    return <>\r\n        <Navbar />\r\n        <div className=\"container-fluid mt-page form-pedido\">\r\n\r\n            <div className=\"ms-4 d-flex justify-content-between\">\r\n                <div>\r\n                    <h2 className=\"d-inline\">Pedidos</h2>\r\n                    <Link className=\"btn btn-success me-5 mb-2\" to=\"/pedidos/novo\">Adicionar Pedido</Link>\r\n                </div>\r\n                \r\n                <div>\r\n                    <div className=\"form-control d-inline me-3\">\r\n                        <select name=\"status\" id=\"status\" onChange={(e) => setStatus(e.target.value)}>\r\n                            <option value=\"\">Status</option>\r\n                            <option value=\"A\">Aberto</option>\r\n                            <option value=\"F\">Finalizado</option>\r\n                        </select>\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" onClick={ConsultarPedidos}>Filtrar</button>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"mt-5 ms-4 me-4\">\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th scope=\"col\">Pedido</th>\r\n                            <th scope=\"col\">Cliente</th>\r\n                            <th scope=\"col\">Dt. Venda</th>\r\n                            <th scope=\"col\">Status</th>\r\n                            <th scope=\"col\">Valor Total</th>\r\n                            <th scope=\"col\"></th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody>\r\n                        {\r\n                            pedidos.map((pedido) => {\r\n                                return <Pedido key={pedido.id_pedido}\r\n                                               id_pedido={pedido.id_pedido}\r\n                                               cliente={pedido.cliente} \r\n                                               dt_pedido={pedido.dt_pedido}\r\n                                               status={pedido.status}\r\n                                               status_descricao={pedido.status_descricao}\r\n                                               vl_total={pedido.vl_total}\r\n                                               atualizar_lista={ConsultarPedidos}\r\n                                               />\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </>\r\n}\r\n\r\nexport default Pedidos;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}